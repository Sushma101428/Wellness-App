<!DOCTYPE html>
<html>
<head>
    <title>Alerts</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
<header>
    <img src="logo.png" class="logo">
    <h2>Alerts</h2>
</header>

<nav class="nav">
    <a href="dashboard.html">Home</a>
    <a href="alerts.html" class="active">Alerts</a>
    <a href="trends.html">Trends</a>
    <a href="log-symptom.html">Log Symptoms</a>
    <a href="profile.html">Profile</a>
    <a onclick="logout()">Logout</a>
</nav>

<section id="alerts" class="card"></section>

<script src="ui.js"></script>
<script src="auth.js"></script>
<script src="api.js"></script>

<script>
(async () => {
    const user = JSON.parse(localStorage.getItem("activeUser"));
    const vitals = await getVitals(user.id);

    let last = vitals[0];
    let list = [];

    if (last.bp_systolic > 130) list.push("High Systolic BP");
    if (last.bp_diastolic > 80) list.push("High Diastolic BP");
    if (last.hr > 100) list.push("High Heart Rate");
    if (last.glucose > 130) list.push("High Glucose");

    if (list.length === 0) list.push("No alerts â€” all vitals are normal");

    show("alerts", list.map(a => `<p>${a}</p>`).join(""));
})();
</script>

</body>
</html>
