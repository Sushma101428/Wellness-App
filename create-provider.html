<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Create Provider</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body class="auth-body">
  <main class="auth-card">
    <img src="./logo.png" class="logo-large" alt="App logo" />
    <h1 class="text-center">Create Provider Account</h1>

    <form id="createForm" class="mt-12">
      <label>Provider ID
        <input name="provider_id" required />
      </label>
      <label class="mt-8">Name
        <input name="name" required />
      </label>
      <label class="mt-8">Email
        <input name="email" type="email" />
      </label>
      <label class="mt-8">Password
        <input name="password" type="password" required />
      </label>
      <label class="mt-8">Confirm Password
        <input name="confirm" type="password" required />
      </label>
      <button class="btn-primary mt-12" type="submit" style="width:100%">Create</button>
    </form>

    <p class="text-center mt-12 muted" style="font-size:0.9rem">
      Already have an account? <a href="index.html">Sign in</a>
    </p>
  </main>

  <script type="module">
    document.getElementById("createForm").onsubmit = e => {
      e.preventDefault();
      const fd = new FormData(e.target);
      if (fd.get("password") !== fd.get("confirm")) {
        alert("Passwords do not match.");
        return;
      }
      const provider = {
        provider_id: fd.get("provider_id").trim(),
        name: fd.get("name"),
        email: fd.get("email"),
        password: fd.get("password")
      };
      localStorage.setItem(
        `provider_${provider.provider_id}`,
        JSON.stringify(provider)
      );
      alert("Provider created. You can now log in.");
      location.href = "index.html";
    };
  </script>
</body>
</html>
